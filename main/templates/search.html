{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GOHUB Search</title>
    <!-- CSS only -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">
    <!-- JavaScript Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="{% static 'style.css' %}" >
    <link rel="icon" type="image/png" href="https://access.trivago.com/oauth/favicon_16x16.png">
</head>
<body style="background-color: #F9FAFA;">
    <nav class="navbar navbar-inverse" style="background-color: white;">
        <div class="container-fluid">
            <div class="navbar-header">
                <a class="navbar-brand" href="/">
                    <span style="color:rgb(19, 145, 210);" class="h5">G</span>
                    <span style="color:rgb(19, 145, 210);" class="h5">O</span>
                    <span style="color:rgb(252, 158, 21);" class="h5">H</span>
                    <span style="color:rgb(227, 64, 61);" class="h5">U</span>
                    <span style="color:rgb(227, 64, 61);" class="h5">B</span>
                </a>
            </div>
            {% if user.is_authenticated %}    
                <div class="nav navbar-nav">
                    <div class="dropdown">
                        <a class="btn btn-primary dropdown-toggle" href="#" role="button" id="dropdownMenuLink" data-bs-toggle="dropdown" aria-expanded="false">
                            <svg tabindex="-1" width="24" height="24" viewBox="0 0 24 24" class="pointer-events-none max-h-full max-w-full" xmlns="http://www.w3.org/2000/svg"><g fill-rule="nonzero" fill="none"><circle fill="#F9C77F" cx="12" cy="12" r="12"></circle><path d="M14.223 14.324H9.5c-.126 0-.227.101-.202.228.126 1.111 1.238 2.248 2.577 2.248s2.45-1.137 2.577-2.248a.226.226 0 00-.228-.228z" fill="#37454D"></path><g transform="translate(4.042 9.347)" fill="#37454D"><circle cx="14.425" cy="1.238" r="1.061"></circle><circle cx="1.213" cy="1.314" r="1.061"></circle></g></g></svg>
                            {{ user }}
                        </a>
                    
                        <ul class="dropdown-menu" style="position: absolute; left:-50px;margin-top: 10px;" aria-labelledby="dropdownMenuLink">
                        <li><a class="dropdown-item" href="#">info</a></li>
                        <li><hr class="dropdown-divider"></li>
                        <li><a class="dropdown-item" href="{% url 'logout' %}">Logout</a></li>
                        </ul>
                    </div>
                </div>
            {% else %}
                <div class="nav navbar-nav">
                    <a href="/login"><button class="btn btn-primary mb-3">Login</button></a>
                </div>
            {% endif %}
        </div>
            
    </nav>

    <div class="container">
        <div class="row">
            <form action="{% url 'search2' %}" method="post" class='row'>
                {% csrf_token %}
                <div class="col"><input type="text" name="location" id="location" class="form-control"  placeholder="Enter your destination" value= {{ location }}></div>
                <div class="col">
                    <select class="form-select" aria-label="Default select example" name='rooms' value={{ room }}>

                        <option value="1">One Room</option>
                        <option value="2">Two Rooms</option>
                        <option value="3">Three Rooms</option>
                      </select>
                </div>
                <div class="col">
                    
                    <input class="btn btn-primary mb-3 search" type="submit" value="SEARCH">
                </div>
            </form>
        </div>

        <div class="row moremarg">
            {% for i in rooms %}
                <div class="row hotels" style="margin-top: 10px;">
                    <div class="col-2 image"><img src= {{ i.hotel_image }} alt="" class="img-fluid"></div>
                    <div class="col-4">
                        <h4 style="width: 200px;">{{ i.hotel_name }}</h4>
                        <span style="--tw-text-opacity: 1; color: rgba(252,158,21,var(--tw-text-opacity));" itemprop="starRating" itemscope="" itemtype="https://schema.org/Rating" data-testid="star-rating" class="text-orange-700 text-s flex"><meta itemprop="ratingValue" content="5"><span class="inline-flex leading-none transform w-3 h-3 mr-px" data-testid="star"><svg width="12" height="12" viewBox="0 0 12 12" class="pointer-events-none max-h-full max-w-full" xmlns="http://www.w3.org/2000/svg"><path d="M12 5.21a.65.65 0 00-.55-.53l-3.6-.6L6.63.46a.66.66 0 00-1.26 0L4.16 4.08l-3.6.6a.65.65 0 00-.56.53.66.66 0 00.31.69L3.2 7.63 2 11.12a.67.67 0 00.26.76.64.64 0 00.38.12.65.65 0 00.41-.15L6 9.52l2.92 2.33a.65.65 0 00.41.15.64.64 0 00.38-.12.67.67 0 00.26-.76L8.8 7.63l2.88-1.73a.66.66 0 00.32-.69z" fill="currentColor"></path></svg></span><span class="inline-flex leading-none transform w-3 h-3 mr-px" data-testid="star"><svg width="12" height="12" viewBox="0 0 12 12" class="pointer-events-none max-h-full max-w-full" xmlns="http://www.w3.org/2000/svg"><path d="M12 5.21a.65.65 0 00-.55-.53l-3.6-.6L6.63.46a.66.66 0 00-1.26 0L4.16 4.08l-3.6.6a.65.65 0 00-.56.53.66.66 0 00.31.69L3.2 7.63 2 11.12a.67.67 0 00.26.76.64.64 0 00.38.12.65.65 0 00.41-.15L6 9.52l2.92 2.33a.65.65 0 00.41.15.64.64 0 00.38-.12.67.67 0 00.26-.76L8.8 7.63l2.88-1.73a.66.66 0 00.32-.69z" fill="currentColor"></path></svg></span><span class="inline-flex leading-none transform w-3 h-3 mr-px" data-testid="star"><svg width="12" height="12" viewBox="0 0 12 12" class="pointer-events-none max-h-full max-w-full" xmlns="http://www.w3.org/2000/svg"><path d="M12 5.21a.65.65 0 00-.55-.53l-3.6-.6L6.63.46a.66.66 0 00-1.26 0L4.16 4.08l-3.6.6a.65.65 0 00-.56.53.66.66 0 00.31.69L3.2 7.63 2 11.12a.67.67 0 00.26.76.64.64 0 00.38.12.65.65 0 00.41-.15L6 9.52l2.92 2.33a.65.65 0 00.41.15.64.64 0 00.38-.12.67.67 0 00.26-.76L8.8 7.63l2.88-1.73a.66.66 0 00.32-.69z" fill="currentColor"></path></svg></span><span class="inline-flex leading-none transform w-3 h-3 mr-px" data-testid="star"><svg width="12" height="12" viewBox="0 0 12 12" class="pointer-events-none max-h-full max-w-full" xmlns="http://www.w3.org/2000/svg"><path d="M12 5.21a.65.65 0 00-.55-.53l-3.6-.6L6.63.46a.66.66 0 00-1.26 0L4.16 4.08l-3.6.6a.65.65 0 00-.56.53.66.66 0 00.31.69L3.2 7.63 2 11.12a.67.67 0 00.26.76.64.64 0 00.38.12.65.65 0 00.41-.15L6 9.52l2.92 2.33a.65.65 0 00.41.15.64.64 0 00.38-.12.67.67 0 00.26-.76L8.8 7.63l2.88-1.73a.66.66 0 00.32-.69z" fill="currentColor"></path></svg></span><span class="inline-flex leading-none transform w-3 h-3 mr-px" data-testid="star"><svg width="12" height="12" viewBox="0 0 12 12" class="pointer-events-none max-h-full max-w-full" xmlns="http://www.w3.org/2000/svg"><path d="M12 5.21a.65.65 0 00-.55-.53l-3.6-.6L6.63.46a.66.66 0 00-1.26 0L4.16 4.08l-3.6.6a.65.65 0 00-.56.53.66.66 0 00.31.69L3.2 7.63 2 11.12a.67.67 0 00.26.76.64.64 0 00.38.12.65.65 0 00.41-.15L6 9.52l2.92 2.33a.65.65 0 00.41.15.64.64 0 00.38-.12.67.67 0 00.26-.76L8.8 7.63l2.88-1.73a.66.66 0 00.32-.69z" fill="currentColor"></path></svg></span></span>
                        <span class="text-muted"> {{ i.hotel_type }}</span>
                        <div class="row" style="margin-top: 5px;">
                            <div class="col-1"><button class="btn btn-success hotel">8.0</button></div>
                            <div class="col-4"><h6 style="margin-top: 8px; margin-left: 35px;">GOOD</h6></div>
                        </div>
                    </div>
                    <div class="col">
                        <div class="row">
                            <h6>booking.com</h6>
                            <span class="filter-green">
                                <svg width="24" height="24" viewBox="0 0 24 24" class="pointer-events-none max-h-full max-w-full" xmlns="http://www.w3.org/2000/svg"><circle cx="12" cy="12" r="10" fill="currentColor"></circle><g fill="none" stroke="#fff" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"><path vector-effect="non-scaling-stroke" d="M17 9l-7 7M10 16l-3-3"></path></g></svg>
                                Free Cancellation
                            </span>
                        </div>
                        <div class="row">
                            <div class="col-4" style="color: green; margin-left: 3px;"><strong>â‚¹{{ i.price }}</strong></div>
                            <div class="col-6"><button class="btn btn-success">Book Now <svg width="24" height="24" viewBox="0 0 24 24" class="pointer-events-none max-h-full max-w-full" xmlns="http://www.w3.org/2000/svg"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2"><path vector-effect="non-scaling-stroke" d="M10 17l5-5M10 7l5 5"></path></g></svg></button></div>
                        </div>
                    </div>
                </div>
            {% endfor %}
            
        </div>
        <div class="row" style="margin-top: 400px;">
        </div>
        <div class="row">
            <ul class="nav justify-content-center pagination" style="max-width: -webkit-fill-available;">
                {% for i in page.page_range %}
                    <li class="page-item"><a class="page-link" href="#">{{ i }}</a></li>
                {% endfor %}
                <li class="page-item"><a class="page-link" href="#">next</a></li>
            </ul>
        </div>
    </div>
    
    <footer class="text-center text-lg-start bg-light text-muted" style="margin-top: 40px;">
		<!-- Copyright -->
        
		<div class="text-center p-4" style="background-color: rgba(0, 0, 0, 0.05);">
		Â© 2022 Copyright: Aaris Kazi Project
		<a class="text-reset fw-bold" href="https://www.linkedin.com/in/aaris-kazi/">Aaris Kazi</a>
		</div>
		<!-- Copyright -->
    </footer>
</body>
</html>
<script>
	function autocomplete(inp, arr) {
	  var currentFocus;
	  inp.addEventListener("input", function(e) {
		  var a, b, i, val = this.value;
		  /*close any already open lists of autocompleted values*/
		  closeAllLists();
		  if (!val) { return false;}
		  currentFocus = -1;
		  /*create a DIV element that will contain the items (values):*/
		  a = document.createElement("DIV");
		  a.setAttribute("id", this.id + "autocomplete-list");
		  a.setAttribute("class", "autocomplete-items");
		  /*append the DIV element as a child of the autocomplete container:*/
		  this.parentNode.appendChild(a);
		  /*for each item in the array...*/
		  for (i = 0; i < arr.length; i++) {
			/*check if the item starts with the same letters as the text field value:*/
			if (arr[i].substr(0, val.length).toUpperCase() == val.toUpperCase()) {
			  /*create a DIV element for each matching element:*/
			  b = document.createElement("div");
              b.setAttribute('class', 'suggestions')
			  /*make the matching letters bold:*/
			  b.innerHTML = "<strong>" + arr[i].substr(0, val.length) + "</strong>";
			  b.innerHTML += arr[i].substr(val.length);
			  /*insert a input field that will hold the current array item's value:*/
			  b.innerHTML += "<input type='hidden' value='" + arr[i] + "'>";
			  /*execute a function when someone clicks on the item value (DIV element):*/
			  b.addEventListener("click", function(e) {
				  /*insert the value for the autocomplete text field:*/
				  inp.value = this.getElementsByTagName("input")[0].value;
				  /*close the list of autocompleted values,
				  (or any other open lists of autocompleted values:*/
				  closeAllLists();
			  });
			  a.appendChild(b);
			}
		  }
	  });
	  /*execute a function presses a key on the keyboard:*/
	  inp.addEventListener("keydown", function(e) {
		  var x = document.getElementById(this.id + "autocomplete-list");
		  if (x) x = x.getElementsByTagName("div");
		  if (e.keyCode == 40) {
			currentFocus++;
			/*and and make the current item more visible:*/
			addActive(x);
		  } else if (e.keyCode == 38) { //up
			/*If the arrow UP key is pressed,
			decrease the currentFocus variable:*/
			currentFocus--;
			/*and and make the current item more visible:*/
			addActive(x);
		  } else if (e.keyCode == 13) {
			/*If the ENTER key is pressed, prevent the form from being submitted,*/
			e.preventDefault();
			if (currentFocus > -1) {
			  /*and simulate a click on the "active" item:*/
			  if (x) x[currentFocus].click();
			}
		  }
	  });
	  function addActive(x) {
		/*a function to classify an item as "active":*/
		if (!x) return false;
		/*start by removing the "active" class on all items:*/
		removeActive(x);
		if (currentFocus >= x.length) currentFocus = 0;
		if (currentFocus < 0) currentFocus = (x.length - 1);
		/*add class "autocomplete-active":*/
		x[currentFocus].classList.add("autocomplete-active");
	  }
	  function removeActive(x) {
		for (var i = 0; i < x.length; i++) {
		  x[i].classList.remove("autocomplete-active");
		}
	  }
	  function closeAllLists(elmnt) {
		var x = document.getElementsByClassName("autocomplete-items");
		for (var i = 0; i < x.length; i++) {
		  if (elmnt != x[i] && elmnt != inp) {
			x[i].parentNode.removeChild(x[i]);
		  }
		}
	  }
	  /*execute a function when someone clicks in the document:*/
	  document.addEventListener("click", function (e) {
		  closeAllLists(e.target);
	  });
	}
	
	var place= ["Hampi","Haridwar","Kerala","Lakshadeep Island","Pushkar Fair","Manali","Varanasi","Cheraman Juma Masjid","Jama Mosque","Mecca Masjid","Old Juma Masjid","Ziarat Shareef","Adina Masjid","Charminar","Ajanta Ellora","Charminar","Fatehpur Sikri","Bangalore","Gateway of India","Humayun\'s Tomb","India Gate","Qutub Minar","Taj Mahal","Basilica of Bom Jesus","Chapel of St. Catherine","Gundala Church","Holy Trinity Church","Our Lady of the Rosary\'s Church","Reis Magos Church","St. Joseph\'s Cathedral","St. Francis of Assissi\'s Church","St. Mary\'s Church","he Cross of Miracles\'s Church","The Sacred Heart\'s Church","Adventure Islands","Entertainment City","Essel World","Fun n Food Village","Gujarat Science City","Kingdom of Dreams","Nicco Park","Ocean Park","Veega Land","Wonder La","Baba Amarnath Temple","Golden Temple","Lord Jagannath Temple","Kashi Vishwanath Temple","Khajuraho Temples","Konark Sun Temple","Ranakpur Jain Temples","Shri Meenakshi - Sundareshwarar Temple","Siddhivinayak Temple","Somnath Temple","Thanjavur Temple","Venkataswara Tirupati Balaji Templ","Brindavan Garden","Chambal Garden","Chashme Shahi Garden","Indian Botanical Garden","Lal Bagh Gardens","Lodhi Garden Mughal Gardens","Pinjore Garden","Rock Garden","Shalimar Bag","Alisagar Deer Park","Bandhavgarh National Park","Bori Wildlife Sanctuary","Hazaribagh Sanctuary","Gir National Park and Sanctuary","Hazaribagh Sanctuary","Kaziranga National Park","Manas Wildlife Sanctuary","Lonavala","Keoladeo National Park","Nanda Devi National Park","Sundarbans National Par","Barehipani Waterfalls","Dudhsagar Waterfalls","Jog Waterfalls","Jonha Waterfalls","Kunchikal Waterfalls","Kune Waterfalls","Langshiang Waterfalls","Meenmutty Waterfalls","Nohkalikai Waterfalls","Shivanasamudra Waterfalls","Chandratal Lake","Dal Lake","Hussain Sagar Lake","Loktak Lake","Osman Sagar Lake","Pushkar Lake","Roopkund Lake","Vembanad Lake","Wular Lake","Bhimtal Lake","Chilka Lake","Dal Lake","Darjeeling","Dehradun","Gangtok","Gangtok","Gangtok","Kodaikanal","Kullu and Manali","Mount Abu","Mussoorie","Ooty","Shillong","Shimla","Srinagar","Agra Fort","Amber Fort","Chittorgarh Fort","Fort William","Golconda Fort","Jaisalmer Fort","Kangra Fort","Red Fort or Lal Qila","Qila Mubarak","Ranthambhore Fort","Bir Singh Palace","Chail Palace","Jaipur City Palace","Jaivilas Palace","Jal Mahal","Lake Palace","Lalgarh Palace","Salim Singh ki Haveli","Udaipur City Palace","Umaid Bhawan Palace"];
	autocomplete(document.getElementById("location"), place);
	
</script>